## Цели

- Локальный веб‑тренажер без внешних зависимостей от серверов.
- Основной уклон на тактические задачи и свободное проигрывание позиций.
- Простая установка: `npm install && npm run dev`.

## Технологический стек

- Vite + React + TypeScript — быстрая сборка и горячая перезагрузка.
- `chess.js` для правил игры.
- `react-chessboard` для визуализации доски.
- Стили: CSS-модули + CSS-переменные для темы.
- Данные задач: локальный `src/data/puzzles.json`.

## Структура приложения

- `src/main.tsx` — входная точка.
- `src/App.tsx` — раскладка страницы и маршрутизация режимов (если потребуется).
- `src/components/ChessBoardPanel.tsx` — доска и управление ходами.
- `src/components/PuzzlePanel.tsx` — описание задачи, советы, кнопки.
- `src/components/StatsPanel.tsx` — текущая статистика, таймеры.
- `src/hooks/usePuzzleTrainer.ts` — логика проверки ходов, подсчёт очков.
- `src/data/puzzles.json` — массив задач `{ id, fen, solution: string[], theme, difficulty }`.

## Пользовательские сценарии

1. **Тактический спринт**
   - Пользователь нажимает «Новая задача».
   - Отображается позиция, краткое описание и уровень сложности.
   - Пользователь делает ходы на доске; `usePuzzleTrainer` сравнивает их с эталонной линией.
   - При корректном решении фиксируется рейтинг и время решения.

2. **Свободная практика**
   - Доска сбрасывается в стартовую позицию.
   - Пользователь может проигрывать варианты, отменять ходы, импортировать FEN.

3. **Режим повторения**
   - Возможность «закрепить» задачу и вернуться к ней позже.
   - TODO: реализовать простое локальное хранилище (localStorage) для списков «Любимые» и «Слабые места».

## Минимальный функционал первой версии

1. Vite-проект с React/TS и готовым dev-server.
2. Компонент доски с поддержкой drag-and-drop, ходов и подсветки.
3. Панель задач:
   - вывод темы/сложности/описания;
   - кнопки «Подсказка» (открывает следующий ход), «Пропустить», «Новая задача».
4. Простейшая статистика: количество решённых задач, среднее время, текущая серия.

## Будущие улучшения (не в MVP)

- Уровни сложности, адаптивное распределение задач.
- Простые шахматные уроки, тексты/видео.
- Интеграция движка (Stockfish WASM) для анализа ходов пользователя.
- Синхронизация задач с внешними источниками (PGN), если появится сервер.

## Расширение (итерация 2)

- **Маршрутизация**: React Router, разделы «Тренировка», «Задачи», «Теория».
- **Фильтр задач**: сетка 3×N, фильтрация по сложности (легко/средне/сложно), нумерация.
- **Тренажёр**:
  - Клик-передвижение и drag с привязкой к курсору (готово).
  - Подсветка короля при объявленном шахе.
  - Свободная практика: выбор цвета игрока, модалка при мате с возвратом к стартовой позиции.
- **Теория**: карточки тем (правила, ходы фигур, рокировка, тактика), описание + интерактивная доска для демонстрации приёма.

